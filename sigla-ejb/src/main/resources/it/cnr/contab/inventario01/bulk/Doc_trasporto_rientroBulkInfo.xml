<?xml version="1.0" encoding="UTF-8"?>

<bulkInfo
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="https://contab.cnr.it/schema/SIGLA"
        xsi:schemaLocation="https://contab.cnr.it/schema/SIGLA https://contab.cnr.it/schema/SIGLA/BulkInfo_1_5.xsd">

    <!-- ============================================ -->
    <!-- CAMPI CHIAVE -->
    <!-- ============================================ -->

    <fieldProperty
            name="pgInventario"
            property="inventario.pg_inventario"
            inputType="ROTEXT"
            maxLength="10"
            inputSize="10"
            label="Inventario" />

    <fieldProperty
            name="tiDocumento"
            property="tiDocumento"
            inputType="ROTEXT"
            maxLength="1"
            inputSize="1"
            label="Tipo Documento" />

    <fieldProperty
            name="esercizio"
            property="esercizio"
            inputType="TEXT"
            inputSize="4"
            maxLength="4"
            enabledOnInsert="false"
            enabledOnEdit="false"
            label="Esercizio" />

    <fieldProperty
            name="pgDocTrasportoRientro"
            property="pgDocTrasportoRientro"
            inputType="TEXT"
            inputSize="10"
            maxLength="10"
            enabledOnInsert="false"
            enabledOnEdit="false"
            label="Numero Documento" />

    <!-- ============================================ -->
    <!-- CAMPI BASE -->
    <!-- ============================================ -->

    <fieldProperty
            name="dsDocTrasportoRientro"
            property="dsDocTrasportoRientro"
            inputType="TEXT"
            maxLength="100"
            inputSize="100"
            label="Descrizione"
            nullable="false" />

    <fieldProperty
            name="dataRegistrazione"
            property="dataRegistrazione"
            inputType="TEXT"
            maxLength="10"
            inputSize="10"
            nullable="false"
            formatName="date_short"
            label="Data Documento"
            command="doOnData_registrazioneChange"/>

    <fieldProperty
            name="stato"
            property="stato"
            inputType="ROTEXT"
            maxLength="3"
            inputSize="3"
            label="Stato" />

    <fieldProperty
            name="destinazione"
            property="destinazione"
            inputType="TEXT"
            maxLength="100"
            inputSize="100"
            label="Destinazione" />

    <fieldProperty
            name="indirizzo"
            property="indirizzo"
            inputType="TEXTAREA"
            cols="75"
            rows="3"
            maxLength="200"
            label="Indirizzo" />

    <fieldProperty
            name="note"
            property="note"
            inputType="TEXTAREA"
            cols="75"
            rows="4"
            maxLength="4000"
            label="Note / Motivo Trasporto" />

    <!-- ============================================ -->
    <!-- CAMPI BULK -->
    <!-- ============================================ -->

    <!-- Tipo Movimento -->
    <fieldProperty
            name="tipoMovimento"
            property="tipoMovimento"
            printProperty="dsTipoTrasportoRientro"
            optionsProperty="tipoMovimenti"
            maxLength="100"
            inputSize="100"
            inputType="SELECT"
            nullable="false"
            enabledOnSearch="true"
            label="Tipo Movimento"/>

    <!-- Tipo Ritiro -->
    <fieldProperty
            name="tipoRitiro"
            property="tipoRitiro"
            inputType="RADIOGROUP"
            keysProperty="tipoRitiroKeys"
            layout="HORIZONTAL"
            nullable="false"
            command="doOnTipoRitiroChange"
            label="Tipo Ritiro" />

    <!-- Dipendente Incaricato -->
    <fieldProperty
            name="find_assegnatario"
            property="anagDipRitiro"
            inputType="SEARCHTOOL"
            formName="searchtool"
            enabledOnSearch="true"
            enabledOnEdit="true"
            completeOnSave="true"
            label="Incaricato al Ritiro" />

    <fieldProperty
            name="cd_assegnatario"
            property="anagDipRitiro.cd_terzo"
            inputType="TEXT"
            maxLength="10"
            inputSize="6"
            label="Incaricato al Ritiro"
            caseSensitiveSearch="false" />

    <!-- ⚠️ NUOVO CAMPO: Nominativo Vettore -->
    <fieldProperty
            name="nominativoVettore"
            property="nominativoVettore"
            inputType="TEXT"
            maxLength="100"
            inputSize="50"
            label="Nominativo Vettore"
            nullable="true" />

    <!-- Consegnatario -->
    <fieldProperty
            name="cdConsegnatario"
            property="consegnatario.cd_terzo"
            inputType="ROTEXT"
            label="Codice Consegnatario"
            maxLength="8"
            inputSize="8" />

    <fieldProperty
            name="cognomeConsegnatario"
            property="consegnatario.denominazione_sede"
            inputType="ROTEXT"
            maxLength="100"
            inputSize="50"
            label="Nome Consegnatario" />

    <!-- UO Consegnataria -->
    <fieldProperty
            name="cdUoConsegnataria"
            property="uo_consegnataria.cd_unita_organizzativa"
            inputType="ROTEXT"
            label="UO Consegnataria"
            maxLength="30"
            inputSize="30" />

    <fieldProperty
            name="dsUoConsegnataria"
            property="uo_consegnataria.ds_unita_organizzativa"
            inputType="ROTEXT"
            maxLength="100"
            inputSize="50"
            label="Descrizione UO Consegnataria" />

    <!-- Delegato -->
    <fieldProperty
            name="cdDelegato"
            property="delegato.cd_terzo"
            inputType="ROTEXT"
            label="Codice Delegato"
            maxLength="8"
            inputSize="8" />

    <fieldProperty
            name="cognomeDelegato"
            property="delegato.denominazione_sede"
            inputType="ROTEXT"
            maxLength="100"
            inputSize="50"
            label="Nome Delegato" />

    <!-- ============================================ -->
    <!-- FORM FIELD PROPERTIES -->
    <!-- ============================================ -->

    <formFieldProperty name="pgInventario" />
    <formFieldProperty name="tiDocumento" />
    <formFieldProperty name="esercizio" />
    <formFieldProperty name="pgDocTrasportoRientro" />
    <formFieldProperty name="dsDocTrasportoRientro" />
    <formFieldProperty name="dataRegistrazione" />
    <formFieldProperty name="tipoMovimento" />
    <formFieldProperty name="destinazione" />
    <formFieldProperty name="indirizzo" />
    <formFieldProperty name="tipoRitiro"/>
    <formFieldProperty name="find_assegnatario" />
    <formFieldProperty name="cd_assegnatario" />
    <!-- ⚠️ NUOVO: Aggiungi al form -->
    <formFieldProperty name="nominativoVettore" />
    <formFieldProperty name="note" />
    <formFieldProperty name="stato" />
    <formFieldProperty name="cdUoConsegnataria" />
    <formFieldProperty name="dsUoConsegnataria" />
    <formFieldProperty name="cdConsegnatario" />
    <formFieldProperty name="cognomeConsegnatario" />
    <formFieldProperty name="cdDelegato" />
    <formFieldProperty name="cognomeDelegato" />

    <!-- ============================================ -->
    <!-- COLONNE DEFAULT -->
    <!-- ============================================ -->

    <columnFieldProperty name="esercizio" />
    <columnFieldProperty name="pgDocTrasportoRientro" />
    <columnFieldProperty name="dataRegistrazione" />
    <columnFieldProperty name="tipoMovimento" />
    <columnFieldProperty name="dsDocTrasportoRientro" />
    <columnFieldProperty name="destinazione" />
    <columnFieldProperty name="stato" />

    <!-- ============================================ -->
    <!-- CAMPI DI RICERCA -->
    <!-- ============================================ -->

    <findFieldProperty name="esercizio" />
    <findFieldProperty name="pgDocTrasportoRientro" />
    <findFieldProperty name="dataRegistrazione" />
    <findFieldProperty name="tipoMovimento" />
    <findFieldProperty name="dsDocTrasportoRientro" />
    <findFieldProperty name="destinazione" />
    <findFieldProperty name="nominativoVettore" />

    <!-- ============================================ -->
    <!-- COLUMN SETS -->
    <!-- ============================================ -->

    <columnSet name="T">
        <columnFieldProperty name="esercizio" />
        <columnFieldProperty name="pgDocTrasportoRientro" />
        <columnFieldProperty name="dataRegistrazione" label="Data Trasporto"/>
        <columnFieldProperty name="tipoMovimento" />
        <columnFieldProperty name="dsDocTrasportoRientro" />
        <columnFieldProperty name="destinazione" />
        <columnFieldProperty name="stato" />
    </columnSet>

    <columnSet name="R">
        <columnFieldProperty name="esercizio" />
        <columnFieldProperty name="pgDocTrasportoRientro" />
        <columnFieldProperty name="dataRegistrazione" label="Data Rientro"/>
        <columnFiel